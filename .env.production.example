# ============================================================================
# PRODUCTION ENVIRONMENT VARIABLES
# Copy to .env and fill in your values before deploying
# NEVER commit this file to git!
# ============================================================================

# ============================================================================
# DJANGO CONFIGURATION
# ============================================================================

# Set to False in production (CRITICAL!)
DEBUG=False

# Generate with: python -c 'import secrets; print(secrets.token_urlsafe(50))'
SECRET_KEY=your-super-secure-random-key-here-min-50-characters

# Your production domain(s) - comma-separated
ALLOWED_HOSTS=api.yourdomain.com,yourdomain.com,www.yourdomain.com

# Python environment
ENVIRONMENT=production

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Option 1: Use DATABASE_URL (Railway/Render/Heroku format)
# Automatically provided by Railway/Render after adding PostgreSQL service
DATABASE_URL=postgresql://user:password@hostname:5432/seatserve

# Option 2: Use individual variables
# DB_HOST=db.railway.internal  # or your RDS endpoint
# DB_PORT=5432
# DB_NAME=seatserve
# DB_USER=postgres
# DB_PASSWORD=your-secure-db-password

# ============================================================================
# REDIS CACHE (Optional but Recommended)
# ============================================================================

# Format: redis://[user:password@]hostname:port/db_number
REDIS_URL=redis://default:your-redis-password@redis.railway.internal:6379/0

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Enable SSL redirect (must be True for production)
SECURE_SSL_REDIRECT=True

# HSTS configuration (1 year = 31536000 seconds)
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_PRELOAD=True

# ============================================================================
# CORS & FRONTEND CONFIGURATION
# ============================================================================

# Your frontend URL (where React app is served)
CORS_ALLOWED_ORIGINS=https://api.yourdomain.com,https://yourdomain.com

# Frontend API URL (for React to call backend)
VITE_API_URL=https://api.yourdomain.com/api

# ============================================================================
# EMAIL CONFIGURATION (for notifications)
# ============================================================================

# Email backend: use SendGrid, Mailgun, or AWS SES in production
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-specific-password  # Use app-specific password, not main password
EMAIL_USE_TLS=True

# From address for emails
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# ============================================================================
# STRIPE PAYMENT CONFIGURATION
# ============================================================================

# Get from: https://dashboard.stripe.com/apikeys
STRIPE_LIVE_PUBLIC_KEY=pk_live_your_public_key_here
STRIPE_LIVE_SECRET_KEY=sk_live_your_secret_key_here

# Webhook signing secret (get from: https://dashboard.stripe.com/webhooks)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================================================
# ERROR TRACKING (Sentry) - Optional
# ============================================================================

# Get from: https://sentry.io/
# Remove if not using Sentry
SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================================================
# PORT CONFIGURATION (for Railway/Render)
# ============================================================================

# Most platforms auto-detect, but you can set explicitly
PORT=8000

# ============================================================================
# NOTES FOR DEPLOYMENT
# ============================================================================

# 1. GENERATE SECURE SECRET_KEY:
#    python -c 'import secrets; print(secrets.token_urlsafe(50))'

# 2. DATABASE URL FORMAT:
#    postgresql://user:password@hostname:port/database
#    Provided by Railway/Render after adding PostgreSQL service

# 3. STRIPE WEBHOOK:
#    1. Get Public Key & Secret Key from Stripe Dashboard
#    2. Create webhook endpoint pointing to:
#       https://api.yourdomain.com/api/payments/webhook/
#    3. Get the signing secret from webhook settings

# 4. EMAIL SETUP:
#    - For Gmail: Enable 2FA and create app-specific password
#    - For SendGrid: Sign up and use API key
#    - For AWS SES: Configure IAM user with SES permissions

# 5. SENTRY (Error Tracking):
#    - Sign up at https://sentry.io/
#    - Create new project for Django
#    - Copy DSN value here

# ============================================================================
# SECURITY CHECKLIST
# ============================================================================

# ✅ DEBUG=False (prevents information disclosure)
# ✅ SECRET_KEY is strong and random (min 32 chars)
# ✅ DATABASE_URL uses secure connection
# ✅ ALLOWED_HOSTS restricted to your domain
# ✅ SECURE_SSL_REDIRECT=True (enforce HTTPS)
# ✅ CORS_ALLOWED_ORIGINS restricted
# ✅ Email credentials use app-specific passwords
# ✅ Stripe keys are live/production keys
# ✅ All secrets never committed to git

# ============================================================================
